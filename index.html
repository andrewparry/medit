<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="icon" type="image/png" href="images/medit_icon.png" />
        <title>Markdown Editor</title>
        <!-- Prism.js syntax highlighting - loaded first so our styles can override -->
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css"
        />
        <link rel="stylesheet" href="styles.css" />
    </head>
    <body class="theme-light">
        <div class="app-container">
            <main class="editor-main" role="main">
                <section class="toolbar-section" role="toolbar" aria-label="Formatting options">
                    <div class="toolbar" id="formatting-toolbar">
                        <div class="toolbar-icon-wrapper">
                            <img
                                src="images/medit_icon.png"
                                alt="Markdown Editor"
                                class="toolbar-icon"
                            />
                        </div>

                        <div class="toolbar-group" role="group" aria-label="Text formatting">
                            <button
                                class="toolbar-btn"
                                type="button"
                                data-format="bold"
                                aria-label="Bold"
                                title="Bold (Ctrl+B)"
                            >
                                <span class="btn-icon" aria-hidden="true">B</span>
                            </button>
                            <button
                                class="toolbar-btn"
                                type="button"
                                data-format="italic"
                                aria-label="Italic"
                                title="Italic (Ctrl+I)"
                            >
                                <span class="btn-icon" aria-hidden="true">I</span>
                            </button>
                            <button
                                class="toolbar-btn"
                                type="button"
                                data-format="underline"
                                aria-label="Underline"
                                title="Underline"
                            >
                                <span class="btn-icon" aria-hidden="true">U</span>
                            </button>
                            <button
                                class="toolbar-btn"
                                type="button"
                                data-format="strikethrough"
                                aria-label="Strikethrough"
                                title="Strikethrough"
                            >
                                <span class="btn-icon strikethrough-icon" aria-hidden="true"
                                    >S</span
                                >
                            </button>
                            <button
                                class="toolbar-btn"
                                type="button"
                                data-format="code"
                                aria-label="Inline code"
                                title="Inline code (Ctrl+`)"
                            >
                                <span class="btn-icon" aria-hidden="true">&lt;/&gt;</span>
                            </button>
                            <button
                                class="toolbar-btn"
                                type="button"
                                data-format="blockquote"
                                aria-label="Blockquote"
                                title="Blockquote"
                            >
                                <span class="btn-icon" aria-hidden="true">&gt;</span>
                            </button>
                            <button
                                class="toolbar-btn"
                                type="button"
                                data-format="hr"
                                aria-label="Horizontal rule"
                                title="Horizontal rule"
                            >
                                <span class="btn-icon" aria-hidden="true">‚îÄ</span>
                            </button>
                        </div>

                        <div class="toolbar-separator" role="separator" aria-hidden="true"></div>

                        <div class="toolbar-group" role="group" aria-label="Headers">
                            <button
                                class="toolbar-btn"
                                type="button"
                                data-format="h1"
                                aria-label="Heading level 1"
                                title="Heading 1 (Ctrl+1)"
                            >
                                <span class="btn-text" aria-hidden="true">H1</span>
                            </button>
                            <button
                                class="toolbar-btn"
                                type="button"
                                data-format="h2"
                                aria-label="Heading level 2"
                                title="Heading 2 (Ctrl+2)"
                            >
                                <span class="btn-text" aria-hidden="true">H2</span>
                            </button>
                            <button
                                class="toolbar-btn"
                                type="button"
                                data-format="h3"
                                aria-label="Heading level 3"
                                title="Heading 3 (Ctrl+3)"
                            >
                                <span class="btn-text" aria-hidden="true">H3</span>
                            </button>
                            <button
                                class="toolbar-btn"
                                type="button"
                                data-format="h4"
                                aria-label="Heading level 4"
                                title="Heading 4 (Ctrl+4)"
                            >
                                <span class="btn-text" aria-hidden="true">H4</span>
                            </button>
                            <button
                                class="toolbar-btn"
                                type="button"
                                data-format="h5"
                                aria-label="Heading level 5"
                                title="Heading 5 (Ctrl+5)"
                            >
                                <span class="btn-text" aria-hidden="true">H5</span>
                            </button>
                            <button
                                class="toolbar-btn"
                                type="button"
                                data-format="h6"
                                aria-label="Heading level 6"
                                title="Heading 6 (Ctrl+6)"
                            >
                                <span class="btn-text" aria-hidden="true">H6</span>
                            </button>
                        </div>

                        <div class="toolbar-separator" role="separator" aria-hidden="true"></div>

                        <div class="toolbar-group" role="group" aria-label="Lists and inserts">
                            <button
                                class="toolbar-btn"
                                type="button"
                                data-format="ul"
                                aria-label="Bullet list"
                                title="Bullet list (Ctrl+Shift+8)"
                            >
                                <span class="btn-icon" aria-hidden="true">‚Ä¢</span>
                            </button>
                            <button
                                class="toolbar-btn"
                                type="button"
                                data-format="ol"
                                aria-label="Numbered list"
                                title="Numbered list (Ctrl+Shift+7)"
                            >
                                <span class="btn-icon" aria-hidden="true">1.</span>
                            </button>
                            <button
                                class="toolbar-btn"
                                type="button"
                                data-format="checkbox"
                                aria-label="Task list"
                                title="Task list (Click to toggle checkbox if on task line, Ctrl/Cmd+Space to toggle)"
                            >
                                <span class="btn-icon" aria-hidden="true">[x]</span>
                            </button>
                            <button
                                class="toolbar-btn"
                                type="button"
                                data-format="link"
                                aria-label="Insert link"
                                title="Insert link (Ctrl+K)"
                            >
                                <span class="btn-icon" aria-hidden="true">üîó</span>
                            </button>
                            <button
                                class="toolbar-btn"
                                type="button"
                                data-format="image"
                                aria-label="Insert image"
                                title="Insert image"
                            >
                                <span class="btn-icon" aria-hidden="true">üñºÔ∏è</span>
                            </button>
                            <button
                                class="toolbar-btn"
                                type="button"
                                data-format="table"
                                aria-label="Insert table"
                                title="Insert table"
                            >
                                <span class="btn-icon" aria-hidden="true">‚äû</span>
                            </button>
                            <button
                                class="toolbar-btn"
                                type="button"
                                data-format="footnote"
                                aria-label="Insert footnote"
                                title="Insert footnote"
                            >
                                <span class="btn-icon" aria-hidden="true">[^]</span>
                            </button>
                            <button
                                class="toolbar-btn"
                                type="button"
                                data-format="codeBlock"
                                aria-label="Code block"
                                title="Code block (Ctrl+Shift+C)"
                            >
                                <span class="btn-icon" aria-hidden="true">{ }</span>
                            </button>
                        </div>

                        <div class="toolbar-separator" role="separator" aria-hidden="true"></div>

                        <div class="toolbar-group" role="group" aria-label="View options">
                            <button
                                id="toggle-preview"
                                class="toolbar-btn"
                                type="button"
                                aria-label="Toggle preview"
                                title="Toggle preview (Ctrl+Shift+P)"
                                aria-pressed="true"
                            >
                                <span class="btn-icon" aria-hidden="true">üëÅÔ∏è</span>
                            </button>
                            <button
                                id="toggle-find"
                                class="toolbar-btn"
                                type="button"
                                aria-label="Find and replace"
                                title="Find (Ctrl+F)"
                            >
                                <span class="btn-icon" aria-hidden="true">üîç</span>
                            </button>
                            <button
                                id="toggle-html"
                                class="toolbar-btn"
                                type="button"
                                aria-label="Toggle HTML rendering"
                                title="Toggle HTML rendering (Ctrl+Shift+H)"
                                aria-pressed="false"
                            >
                                <span class="btn-icon" aria-hidden="true">&lt;/&gt;</span>
                            </button>
                        </div>

                        <div class="toolbar-separator" role="separator" aria-hidden="true"></div>

                        <div class="toolbar-group" role="group" aria-label="File operations">
                            <button
                                id="dark-mode-toggle"
                                class="toolbar-btn toolbar-btn-file"
                                type="button"
                                role="switch"
                                aria-checked="false"
                                aria-label="Toggle dark mode"
                                title="Toggle dark mode"
                            >
                                <span class="btn-icon" aria-hidden="true">üåô</span>
                            </button>
                            <button
                                id="new-file"
                                class="toolbar-btn toolbar-btn-file"
                                type="button"
                                aria-label="Start a new markdown document"
                                title="Start a new markdown document"
                            >
                                <span class="btn-icon" aria-hidden="true">üÜï</span>
                            </button>
                            <button
                                id="open-file"
                                class="toolbar-btn toolbar-btn-file"
                                type="button"
                                aria-label="Open markdown file"
                                title="Open markdown file"
                            >
                                <span class="btn-icon" aria-hidden="true">üìÅ</span>
                            </button>
                            <button
                                id="save-file"
                                class="toolbar-btn toolbar-btn-file"
                                type="button"
                                aria-label="Save markdown file"
                                title="Save markdown file"
                            >
                                <span class="btn-icon" aria-hidden="true">üíæ</span>
                            </button>
                            <button
                                id="export-file"
                                class="toolbar-btn toolbar-btn-file"
                                type="button"
                                aria-label="Export file"
                                title="Export file"
                            >
                                <span class="btn-icon" aria-hidden="true">üì§</span>
                            </button>
                            <button
                                id="help-button"
                                class="toolbar-btn toolbar-btn-file"
                                type="button"
                                aria-label="Show help and keyboard shortcuts"
                                title="Show help (?)"
                            >
                                <span class="btn-icon" aria-hidden="true">?</span>
                            </button>
                        </div>
                    </div>
                </section>

                <!-- Find/Replace bar -->
                <section
                    id="find-bar"
                    class="find-bar"
                    role="region"
                    aria-label="Find and replace"
                    hidden
                >
                    <div class="find-controls">
                        <label class="sr-only" for="find-input">Find</label>
                        <input
                            id="find-input"
                            class="find-input"
                            type="text"
                            placeholder="Find"
                            aria-label="Find"
                        />
                        <button
                            id="find-next"
                            class="toolbar-btn"
                            type="button"
                            title="Next (Enter)"
                        >
                            ‚Üì
                        </button>
                        <button
                            id="find-prev"
                            class="toolbar-btn"
                            type="button"
                            title="Previous (Shift+Enter)"
                        >
                            ‚Üë
                        </button>
                        <span id="find-count" class="find-count" aria-live="polite">0/0</span>
                        <label class="find-option"
                            ><input id="find-case" type="checkbox" /> Case</label
                        >
                        <label class="find-option"
                            ><input id="find-regex" type="checkbox" /> Regex</label
                        >
                        <label class="find-option"
                            ><input id="find-whole" type="checkbox" /> Whole</label
                        >
                    </div>
                    <div class="replace-controls">
                        <label class="sr-only" for="replace-input">Replace</label>
                        <input
                            id="replace-input"
                            class="find-input"
                            type="text"
                            placeholder="Replace"
                            aria-label="Replace"
                        />
                        <button
                            id="replace-one"
                            class="toolbar-btn"
                            type="button"
                            title="Replace (Cmd/Ctrl+Enter)"
                        >
                            Replace
                        </button>
                        <button
                            id="replace-all"
                            class="toolbar-btn"
                            type="button"
                            title="Replace All"
                        >
                            Replace All
                        </button>
                    </div>
                </section>

                <section class="editor-container">
                    <div class="editor-pane" role="region" aria-label="Markdown editor">
                        <label class="sr-only" for="editor">Markdown content editor</label>
                        <div
                            id="editor-highlights"
                            class="editor-highlights"
                            aria-hidden="true"
                        ></div>
                        <textarea
                            id="editor"
                            class="editor-content"
                            aria-label="Markdown content editor"
                            spellcheck="true"
                            placeholder="Start writing your markdown content..."
                        ></textarea>
                    </div>

                    <div
                        id="resize-handle"
                        class="resize-handle"
                        role="separator"
                        aria-label="Resize panes"
                        aria-orientation="vertical"
                        tabindex="0"
                    ></div>

                    <div class="preview-pane" role="region" aria-label="Markdown preview">
                        <div id="preview" class="preview-content" aria-live="polite"></div>
                    </div>
                </section>
            </main>

            <footer class="status-bar" role="contentinfo">
                <div class="status-info">
                    <div class="status-left">
                        <span class="status-item" id="file-name-label">File:</span>
                        <span
                            id="file-name"
                            class="status-item editable-file-name"
                            contenteditable="false"
                            role="textbox"
                            tabindex="0"
                            aria-label="File name"
                            >Untitled.md</span
                        >
                    </div>
                    <div class="status-center">
                        <span class="status-item" id="autosave-status" aria-live="polite"
                            >Draft saved</span
                        >
                    </div>
                    <div class="status-right">
                        <span id="word-count" class="status-item" aria-live="polite"
                            >0 words / 0 characters</span
                        >
                        <span id="char-count" class="status-item sr-only" aria-live="polite"
                            >0 characters</span
                        >
                    </div>
                </div>
            </footer>
        </div>

        <input type="file" id="file-input" accept=".md,.markdown" hidden aria-hidden="true" />

        <!-- Prism.js syntax highlighting -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
        <!-- Common language definitions -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-java.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-c.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-cpp.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-css.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-markup.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-json.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-sql.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
        <script>
            // Configure Prism autoloader
            if (window.Prism && window.Prism.plugins && window.Prism.plugins.autoloader) {
                window.Prism.plugins.autoloader.languages_path =
                    'https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/';
            }
        </script>
        <script src="js/marked-lite.js" defer></script>
        <script src="js/sanitizer.js" defer></script>

        <!-- Core modules (load first) -->
        <script src="js/editor-core.js" defer></script>
        <script src="js/editor-state.js" defer></script>
        <script src="js/editor-utils.js" defer></script>
        <script src="js/editor-dialogs.js" defer></script>
        <script src="js/editor-history.js" defer></script>

        <!-- Feature modules -->
        <script src="js/editor-autosave.js" defer></script>
        <script src="js/editor-preview.js" defer></script>
        <script src="js/editor-syntax-highlight.js" defer></script>
        <script src="js/editor-formatting.js" defer></script>
        <script src="js/editor-inserts.js" defer></script>
        <script src="js/editor-find-replace.js" defer></script>
        <script src="js/editor-file-ops.js" defer></script>
        <script src="js/editor-ui.js" defer></script>

        <!-- Initialization (load last) -->
        <script src="js/editor-init.js" defer></script>
    </body>
</html>
